:root {
  /* Colors (light) */
  --color-background: #fcfcf9;
  --color-surface: #fffffd;
  --color-text: #13343b;
  --color-text-secondary: #626c71;
  --color-primary: #21808d;
  --color-primary-hover: #1d7480;
  --color-primary-active: #1a6873;
  --color-secondary: rgba(94, 82, 64, 0.12);
  --color-secondary-hover: rgba(94, 82, 64, 0.20);
  --color-secondary-active: rgba(94, 82, 64, 0.25);
  --color-border: rgba(94, 82, 64, 0.20);
  --color-card-border: rgba(94, 82, 64, 0.12);
  --color-card-border-inner: rgba(94, 82, 64, 0.12);
  --color-focus-ring: rgba(33, 128, 141, 0.4);

  /* RGB helpers */
  --color-success-rgb: 33,128,141;
  --color-error-rgb: 192,21,47;
  --color-warning-rgb: 168,75,47;
  --color-info-rgb: 98,108,113;

  /* Typography */
  --font-family-base: "FKGroteskNeue", "Geist", "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --font-family-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  --font-size-xs: 11px;
  --font-size-sm: 12px;
  --font-size-base: 14px;
  --font-size-md: 14px;
  --font-size-lg: 16px;
  --font-size-xl: 18px;
  --font-size-2xl: 20px;
  --font-size-3xl: 24px;
  --font-size-4xl: 30px;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 550;
  --font-weight-bold: 600;
  --line-height-tight: 1.2;
  --line-height-normal: 1.5;
  --letter-spacing-tight: -0.01em;

  /* Spacing */
  --space-0: 0;
  --space-1: 1px;
  --space-2: 2px;
  --space-4: 4px;
  --space-6: 6px;
  --space-8: 8px;
  --space-10: 10px;
  --space-12: 12px;
  --space-16: 16px;
  --space-20: 20px;
  --space-24: 24px;
  --space-32: 32px;

  /* Radius */
  --radius-sm: 6px;
  --radius-base: 8px;
  --radius-md: 10px;
  --radius-lg: 12px;

  /* Shadows */
  --shadow-sm: 0 1px 3px rgba(0,0,0,0.04), 0 1px 2px rgba(0,0,0,0.02);
  --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.06), 0 2px 4px -1px rgba(0,0,0,0.04);

  /* Animations */
  --duration-fast: 150ms;
  --duration-normal: 250ms;
  --ease-standard: cubic-bezier(0.16, 1, 0.3, 1);

  /* Layout */
  --container-sm: 640px;
  --container-md: 768px;
  --container-lg: 1024px;
  --container-xl: 1280px;
}

/* Auto dark (preferenza OS) */
@media (prefers-color-scheme: dark) {
  :root {
    --color-background: #1f2121;
    --color-surface: #262828;
    --color-text: #f5f5f5;
    --color-text-secondary: rgba(245,245,245,0.7);
    --color-primary: #32b8c6;
    --color-primary-hover: #2da6b2;
    --color-primary-active: #2996a1;
    --color-secondary: rgba(119,124,124,0.15);
    --color-secondary-hover: rgba(119,124,124,0.25);
    --color-secondary-active: rgba(119,124,124,0.3);
    --color-border: rgba(119,124,124,0.3);
    --color-card-border: rgba(119,124,124,0.20);
    --color-card-border-inner: rgba(119,124,124,0.15);
    --color-focus-ring: rgba(50,184,198,0.4);
  }
}

/* Override manuale via data-attribute */
[data-color-scheme="light"] { /* nothing, usa :root */ }
[data-color-scheme="dark"] {
  --color-background: #1f2121;
  --color-surface: #262828;
  --color-text: #f5f5f5;
  --color-text-secondary: rgba(245,245,245,0.7);
  --color-primary: #32b8c6;
  --color-primary-hover: #2da6b2;
  --color-primary-active: #2996a1;
  --color-secondary: rgba(119,124,124,0.15);
  --color-secondary-hover: rgba(119,124,124,0.25);
  --color-secondary-active: rgba(119,124,124,0.3);
  --color-border: rgba(119,124,124,0.3);
  --color-card-border: rgba(119,124,124,0.20);
  --color-card-border-inner: rgba(119,124,124,0.15);
  --color-focus-ring: rgba(50,184,198,0.4);
}

/* Base */
html {
  font-size: var(--font-size-base);
  font-family: var(--font-family-base);
  line-height: var(--line-height-normal);
  color: var(--color-text);
  background-color: var(--color-background);
  -webkit-font-smoothing: antialiased;
  box-sizing: border-box;
}
*,*::before,*::after { box-sizing: inherit; }
body { margin: 0; }

h1,h2,h3,h4,h5,h6 {
  margin: 0; color: var(--color-text);
  font-weight: var(--font-weight-semibold);
  line-height: var(--line-height-tight);
  letter-spacing: var(--letter-spacing-tight);
}
h1{font-size:var(--font-size-4xl)}
h2{font-size:var(--font-size-3xl)}
h3{font-size:var(--font-size-2xl)}
p{margin:0 0 var(--space-16)}

/* Links */
a { color: var(--color-primary); text-decoration: none; transition: color var(--duration-fast) var(--ease-standard); }
a:hover { color: var(--color-primary-hover); }

/* Code */
code,pre {
  font-family: var(--font-family-mono);
  font-size: 0.95em;
  background: var(--color-secondary);
  border-radius: var(--radius-sm);
}
code { padding: 0 4px; }
pre { padding: 16px; border: 1px solid var(--color-border); overflow:auto; }

/* Container */
.container { width: 100%; margin-inline: auto; padding-inline: 16px; }
@media (min-width:640px){ .container{max-width:var(--container-sm)} }
@media (min-width:768px){ .container{max-width:var(--container-md)} }
@media (min-width:1024px){ .container{max-width:var(--container-lg)} }
@media (min-width:1280px){ .container{max-width:var(--container-xl)} }

/* Header */
.header {
  background: var(--color-surface);
  border-bottom: 1px solid var(--color-border);
  padding: 16px 0;
  position: sticky; top: 0; z-index: 100;
}
.header-content { display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom: 12px; }
.header-title { font-size: var(--font-size-3xl); font-weight: var(--font-weight-bold); }
.header-actions { display:flex; gap:12px; flex-wrap: wrap; }
.header-controls { display:flex; gap:16px; align-items:center; flex-wrap: wrap; }
.search-container { flex:1; min-width: 220px; max-width: 420px; }
.filter-container { min-width: 200px; }

/* Form */
.form-control {
  display:block; width:100%;
  padding: 10px 12px;
  font-size: var(--font-size-md);
  color: var(--color-text);
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-base);
  transition: border-color var(--duration-fast) var(--ease-standard), box-shadow var(--duration-fast) var(--ease-standard);
}
.form-control:focus { outline: none; box-shadow: 0 0 0 3px var(--color-focus-ring); border-color: var(--color-primary); }

/* Buttons */
.btn {
  display:inline-flex; align-items:center; justify-content:center;
  gap: 8px;
  padding: 8px 16px;
  border-radius: var(--radius-base);
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-medium);
  cursor:pointer; border:none;
  transition: all var(--duration-normal) var(--ease-standard);
}
.btn:focus-visible { outline: none; box-shadow: 0 0 0 3px var(--color-focus-ring); }

/* Primary blue (usata per copia/preferiti) */
.btn-blue {
  background: #2563eb;
  color: #fff;
}
.btn-blue:hover { background:#1e40af; }
.btn-blue:active { background:#183284; }

/* Outline (switch tema) – adattivo */
.btn--outline {
  background: transparent;
  color: var(--color-text);
  border: 1px solid var(--color-border);
}
.btn--outline:hover {
  background: var(--color-secondary);
  border-color: var(--color-primary);
}
[data-color-scheme="dark"] .btn--outline {
  color: #f5f5f5;
  border-color: rgba(245,245,245,0.25);
}

/* Main */
.main { padding: 24px 0; }

/* Grid */
.prompts-grid {
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 20px;
  margin-top: 24px;
  animation: fadeIn .3s ease-in-out;
}
@media (max-width:380px){ .prompts-grid { grid-template-columns: 1fr; } }
@keyframes fadeIn { from{opacity:0;transform:translateY(10px)} to{opacity:1;transform:none} }

/* Card */
.prompt-card {
  background: var(--color-surface);
  border: 1px solid var(--color-card-border);
  border-radius: var(--radius-lg);
  padding: 20px;
  display:flex; flex-direction:column;
  transition: box-shadow var(--duration-normal) var(--ease-standard), transform var(--duration-normal) var(--ease-standard);
  padding-bottom: 20px; /* respiro sotto ai bottoni */
}
.prompt-card:hover { box-shadow: var(--shadow-md); transform: translateY(-2px); }
.prompt-card__header { margin-bottom: 16px; }
.prompt-card__title {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-semibold);
  margin: 0 0 8px;
}
.prompt-card__category {
  display:inline-block; background: var(--color-secondary);
  color: var(--color-text); padding: 4px 8px;
  border-radius: var(--radius-sm); font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium); margin-bottom: 12px;
}
.prompt-card__description {
  color: var(--color-text-secondary);
  font-size: var(--font-size-base);
  line-height: var(--line-height-normal);
  margin-bottom: 12px;
}

/* Highlight & clamp */
mark { background:#fde68a; color:#111; padding:0 2px; border-radius:3px; }
.clamp-2 { display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }

/* Link "Dettagli" */
.prompt-card__meta { margin-top: 6px; }
.link-btn {
  background:none; border:none; padding:0; cursor:pointer;
  font-size:14px; color:#60a5fa;
}
.link-btn:hover { text-decoration: underline; }

/* Actions – 50/50 */
.prompt-card__actions { display:flex; gap:8px; margin-top: 12px; }
.prompt-card__actions .btn-blue,
.prompt-card__actions .favorite-btn {
  flex:1; padding:10px 0; font-size:14px; border-radius:6px;
}
.prompt-card__actions .favorite-btn {
  background:#fff; color:#2563eb; border:2px solid #2563eb;
}
[data-color-scheme="dark"] .prompt-card__actions .favorite-btn {
  background: transparent; color:#32b8c6; border-color:#32b8c6;
}
.prompt-card__actions .favorite-btn.active {
  background:#2563eb; color:#fff; border-color:#2563eb;
}
[data-color-scheme="dark"] .prompt-card__actions .favorite-btn.active {
  background:#32b8c6; border-color:#32b8c6; color:#0b1220;
}

/* Toast */
.toast {
  position: fixed; left:50%; bottom:30px; transform: translateX(-50%);
  background: #28a745; color:#fff; padding:16px 24px; border-radius:8px;
  font-weight:500; font-size:14px; box-shadow: 0 4px 12px rgba(0,0,0,.15);
  opacity:0; transition: opacity .3s ease-in-out; pointer-events:none; z-index:9999;
  min-width: 240px; text-align:center;
}
.toast.show { opacity:1; }

/* No results */
.no-results { text-align:center; padding:32px; color:var(--color-text-secondary); font-size:var(--font-size-lg); }

/* Modale */
.modal-backdrop {
  position: fixed; inset:0; background: rgba(0,0,0,.6);
  display:flex; align-items:center; justify-content:center; padding:24px; z-index:1000;
}
.modal {
  background:#0f172a; color:#e5e7eb;
  max-width: 880px; width:100%;
  border-radius:12px; box-shadow: 0 10px 30px rgba(0,0,0,.5);
  overflow:hidden;
}
.modal__header {
  display:flex; justify-content:space-between; align-items:center;
  padding:16px 20px; border-bottom:1px solid #1f2937;
}
.modal__title { font-size:18px; margin:0; color:#e5e7eb; } /* sempre leggibile */
.modal__close { background:transparent; border:none; color:#9ca3af; font-size:20px; cursor:pointer; }
.modal__close:hover { color:#fff; }
.modal__category { padding:10px 20px; color:#93c5fd; font-size:14px; }
.modal__desc { padding:0 20px 10px 20px; color:#cbd5e1; }
.modal__body { padding:0 20px 20px 20px; }
.modal__code {
  white-space: pre-wrap; background:#0b1220; color:#e5e7eb;
  border:1px solid #1f2937; border-radius:8px; padding:14px;
  max-height:50vh; overflow:auto; font: 13.5px/1.5 var(--font-family-mono);
}
.modal__actions { display:flex; gap:10px; padding:16px 20px; border-top:1px solid #1f2937; }
.btn-ghost { background:transparent; color:#e5e7eb; border:1px solid #374151; }
.btn-ghost:hover { background:#111827; }

/* Footer – testo centrato; colori coerenti al tema */
.footer {
  margin-top: 40px;
  padding: 20px 0;
  text-align: center;
  font-size: 14px;
  color: var(--color-text-secondary);
  background: var(--color-surface);
  border-top: 1px solid var(--color-border);
}
.footer strong { color: var(--color-text); }

/* Responsive header */
@media (max-width: 768px) {
  .header-content { flex-direction: column; align-items: stretch; }
  .header-actions { width:100%; }
  .header-controls { flex-direction: column; align-items: stretch; }
  .search-container, .filter-container { width:100%; max-width:none; min-width:auto; }
  .prompts-grid { grid-template-columns: 1fr; }
  .prompt-card__actions { flex-direction: column; }
  .prompt-card__actions .btn-blue, .prompt-card__actions .favorite-btn { width: 100%; }
}

/* A11y helpers */
.sr-only {
  position:absolute; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
}
:focus-visible { outline: 2px solid var(--color-primary); outline-offset: 2px; }

/* Custom font */
@font-face {
  font-family: 'FKGroteskNeue';
  src: url('https://r2cdn.perplexity.ai/fonts/FKGroteskNeue.woff2') format('woff2');
  font-display: swap;
}

